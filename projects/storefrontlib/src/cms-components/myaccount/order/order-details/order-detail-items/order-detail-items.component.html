<ng-container *ngIf="(order$ | async) as order">
  <div *ngFor="let consignment of order.consignments" class="cx-list row">
    <div class="cx-list-header col-12">
      <div class="cx-list-status">
        <span *ngIf="consignment">
          {{
            'orderDetails.deliveryStatus'
              | cxTranslate: { context: consignment.status }
          }}
        </span>
      </div>
      <div *ngIf="consignment?.statusDate" class="cx-list-date">
        <div>{{ 'orderDetails.shippedOn' | cxTranslate }}&nbsp;</div>
        <div>{{ consignment?.statusDate | cxDate }}</div>
      </div>
    </div>
    <div class="cx-list-item col-12">
      <cx-cart-item-list
        [items]="getConsignmentProducts(consignment)"
        [isReadOnly]="true"
      ></cx-cart-item-list>
    </div>

    <ng-container *ngIf="(actions$ | async) as actions">
      <ng-container *ngFor="let action of actions">
        <cx-page-action 
          [name]="action.name"
          [action]="action" 
          [data]="consignment"
          (onaction)="getConsignmentmentTracking($event)">
        </cx-page-action>
      </ng-container>
    </ng-container>
  </div>

  <div *ngIf="order.unconsignedEntries?.length" class="cx-list row">
    <div class="cx-list-header col-12">
      <div class="cx-list-status">
        {{ 'orderDetails.pending' | cxTranslate }}
      </div>
    </div>
    <div class="cx-list-item col-12">
      <cx-cart-item-list
        [items]="order?.unconsignedEntries"
        [isReadOnly]="true"
      ></cx-cart-item-list>
    </div>
  </div>
</ng-container>
