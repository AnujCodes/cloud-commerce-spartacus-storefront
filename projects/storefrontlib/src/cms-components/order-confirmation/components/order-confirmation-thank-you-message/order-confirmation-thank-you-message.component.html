<ng-container *ngIf="(order$ | async) as order">
  <header class="cx-page-header">
    <h1 class="cx-page-title">
      {{ 'checkoutOrderConfirmation.confirmationOfOrder' | cxTranslate }}
      {{ order.code }}
    </h1>
  </header>

  <div class="cx-order-confirmation-message">
    <h2>{{ 'checkoutOrderConfirmation.thankYou' | cxTranslate }}</h2>
    <p>
      {{ 'checkoutOrderConfirmation.invoiceHasBeenSentByEmail' | cxTranslate }}
    </p>
    <!-- <a href="#" class="btn-link">Print Page</a> -->
  </div>

  <div *ngIf="isGuestCustomer">
    <h2>{{ 'checkoutOrderConfirmation.createAccount' | cxTranslate }}</h2>
    <p>
      {{
        'checkoutOrderConfirmation.createAccountForNext'
          | cxTranslate: { email: order.paymentInfo.billingAddress.email }
      }}
    </p>
    <div>
      <form [formGroup]="guestRegisterForm">
        <div class="form-group">
          <label>
            <span class="label-content">{{
              'register.password.label' | cxTranslate
            }}</span>
            <input
              class="form-control"
              [class.is-invalid]="
                guestRegisterForm.get('password').invalid &&
                guestRegisterForm.get('password').dirty
              "
              type="password"
              name="password"
              placeholder="{{ 'register.password.placeholder' | cxTranslate }}"
              formControlName="password"
            />
            <div
              class="invalid-feedback"
              *ngIf="
                guestRegisterForm.get('password').invalid &&
                guestRegisterForm.get('password').dirty
              "
            >
              <span>{{
                'register.passwordMinRequirements' | cxTranslate
              }}</span>
            </div>
          </label>
        </div>

        <div class="form-group">
          <label>
            <span class="label-content">{{
              'register.confirmPassword.label' | cxTranslate
            }}</span>
            <input
              class="form-control"
              [class.is-invalid]="
                guestRegisterForm.get('password').value !==
                guestRegisterForm.get('passwordconf').value
              "
              type="password"
              name="confirmpassword"
              placeholder="{{
                'register.confirmPassword.placeholder' | cxTranslate
              }}"
              formControlName="passwordconf"
            />
            <div
              class="invalid-feedback"
              *ngIf="
                guestRegisterForm.get('password').value !==
                  guestRegisterForm.get('passwordconf').value &&
                guestRegisterForm.get('passwordconf').value
              "
            >
              <span>{{ 'register.bothPasswordMustMatch' | cxTranslate }}</span>
            </div>
          </label>
        </div>

        <button
          type="submit"
          (click)="submit()"
          [disabled]="guestRegisterForm.invalid"
          class="btn btn-block btn-primary"
        >
          {{ 'common.submit' | cxTranslate }}
        </button>
      </form>
    </div>
  </div>

  <cx-add-to-home-screen-banner></cx-add-to-home-screen-banner>
</ng-container>
